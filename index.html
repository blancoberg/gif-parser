<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="lib/FileReader.js"></script>


    <script src="lib/block/Header.js"></script>
    <script src="lib/block/ColorTable.js"></script>
    <script src="lib/block/ImageDescriptor.js"></script>
    <script src="lib/block/LZW.js"></script>
    <script src="lib/block/ApplicationExtension.js"></script>
    <script src="lib/block/GraphicControlExtension.js"></script>

    <script src="lib/GifParser.js"></script>
  </head>
  <body>
    <script>

    new GifParser("img/test.gif")
    var pos = 0;
    var readCode = function(size) {
      console.log("readCode")
    var code = 0;
    var data = "A";
    for (var i = 0; i < size; i++) {
      if (data.charCodeAt(pos >> 3) & (1 << (pos & 7))) {
        code |= 1 << i;
      }
      pos++;
    }
    return code;
    };

      var bits = [];
      for ( var i = 0;i<100;i++){
        bits.push(i);
      }


      var pos = 0;

      function readBits(codeSize){
        var data = [];
        for(var i = 0;i<codeSize;i++){
          data.unshift(bits[-pos%8 + 8* ((pos+8)>>3)])
          pos++;
        }
        console.log("readbits",data)
      }

      //readBits(6)
      //readBits(6)

    </script>
  </body>
</html>
