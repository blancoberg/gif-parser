<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="lib/FileReader.js"></script>

    <style>
      body{
        background-color:#cccccc;
      }
    </style>

    <script src="lib/block/Header.js"></script>
    <script src="lib/block/ColorTable.js"></script>
    <script src="lib/block/ImageDescriptor.js"></script>
    <script src="lib/block/LZW.js"></script>
    <script src="lib/block/ApplicationExtension.js"></script>
    <script src="lib/block/GraphicControlExtension.js"></script>

    <script src="lib/GifParser.js"></script>
  </head>
  <body>

    <script>


    var parser = new GifParser(100,100)


    parser.setGlobalColorTable([
      0xffffff,
      0xaaaaaa,
      0xcccccc,
      0xff0000,
      0x00ff00




    ])


    var canvas = document.createElement("canvas");
    var context = canvas.getContext("2d");
    canvas.width = 100;canvas.height = 100;
    document.getElementsByTagName("body")[0].appendChild(canvas);



    window.onload = function(){

      /*
      context.beginPath();
      context.fillStyle = "#ff0000"
      context.fillRect(0,0,100,100);
      context.fill();
      context.closePath();
      context.stroke();
      parser.addFrame(canvas);

      //context.rotate(1);
      context.fillStyle = "#ffffff"
      context.fillRect(25,25,50,50);
      context.fill();
      parser.addFrame(canvas);
      parser.encode({
        crop:true
      });
      //parser.parse();
      */
    }


    parser.open("img/test3.gif",function(){
      parser.encode();
    })






    </script>
  </body>
</html>
